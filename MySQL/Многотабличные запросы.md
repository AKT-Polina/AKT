#mysql
## JOIN
Многотабличные запросы в MySQL позволяют объединять данные из двух и более таблиц в один результат запроса. Такие запросы могут использоваться для получения информации из нескольких таблиц, объединения данных из разных таблиц или выполнения сложных вычислений на основе данных из разных таблиц.

JOIN для объединения таблицы "orders" и таблицы "customers" по полю "customer_id":

```sql
SELECT *
FROM orders
JOIN customers ON orders.customer_id = customers.customer_id;
```

Для создания многотабличного запроса в MySQL используется оператор JOIN. Существует несколько типов JOIN, каждый из которых определяет, как данные из таблиц объединяются:

1.  INNER JOIN: возвращает только те строки, где существуют соответствующие значения в обеих таблицах.
2.  LEFT JOIN: возвращает все строки из левой таблицы и соответствующие строки из правой таблицы. Если значения из правой таблицы отсутствуют, то возвращается NULL.
3.  RIGHT JOIN: возвращает все строки из правой таблицы и соответствующие строки из левой таблицы. Если значения из левой таблицы отсутствуют, то возвращается NULL.
4.  FULL OUTER JOIN: возвращает все строки из обеих таблиц и соответствующие значения. Если значения отсутствуют в одной из таблиц, то возвращается NULL.

Пример многотабличного запроса с использованием INNER JOIN:

```sql
SELECT customers.name, orders.order_date
FROM customers
INNER JOIN orders ON customers.id = orders.customer_id;
```

Этот запрос возвращает имена клиентов и даты их заказов, если у них есть соответствующие записи в обеих таблицах.

Пример многотабличного запроса с использованием LEFT JOIN:

```sql
SELECT customers.name, orders.order_date
FROM customers
LEFT JOIN orders ON customers.id = orders.customer_id;
```

Этот запрос возвращает имена всех клиентов и даты их заказов (если они есть), включая тех клиентов, у которых нет заказов.


Допустим, у нас есть две таблицы - "users" и "orders". Таблица "users" содержит информацию о пользователях, а таблица "orders" содержит информацию о заказах. Каждый заказ привязан к конкретному пользователю через поле "user_id". Однако, в таблице "orders" есть заказы, которые были сделаны неизвестным пользователям (например, пользователь не зарегистрировался на сайте и сделал заказ без регистрации).

Чтобы получить список всех заказов и имен пользователей, которые были связаны с заказами (если такие имеются), а также имена пользователей, которые не связаны с заказами, можно использовать RIGHT JOIN следующим образом:

```sql
SELECT users.name, orders.order_date
FROM orders
RIGHT JOIN users ON orders.user_id = users.id;
```

Этот запрос вернет все заказы, включая заказы без связанных пользователей, и имена пользователей, которые связаны с заказами.

Пример использования FULL OUTER JOIN:

Допустим, у нас есть две таблицы - "users" и "orders". Таблица "users" содержит информацию о пользователях, а таблица "orders" содержит информацию о заказах. Каждый заказ привязан к конкретному пользователю через поле "user_id". Но есть и такие заказы, у которых нет связанного пользователя, и такие пользователи, у которых нет связанных заказов.

Чтобы получить список всех заказов и пользователей, включая тех, у кого нет связанных записей, можно использовать FULL OUTER JOIN следующим образом:

```sql
SELECT users.name, orders.order_date
FROM orders
FULL OUTER JOIN users ON orders.user_id = users.id;
```

## NOT IN

Оператор NOT IN - это оператор, используемый в языке SQL, который позволяет выбрать строки, не соответствующие указанному набору значений. Оператор NOT IN обычно используется с оператором SELECT для выбора данных из одной таблицы, которые не содержат указанные значения из другой таблицы или подзапроса.

Синтаксис оператора NOT IN выглядит следующим образом:

```sql
SELECT column_name(s)
FROM table_name
WHERE column_name NOT IN (value1, value2, ...);
```

Здесь column_name(s) - это название столбца или столбцов, которые нужно выбрать из таблицы, table_name - это название таблицы, из которой нужно выбрать данные, а value1, value2 и т.д. - это значения, которые нужно исключить из выборки.

Например, если у нас есть таблица "products" с информацией о продуктах и таблица "orders" с информацией о заказах, и мы хотим выбрать все продукты, которые не были заказаны, мы можем использовать оператор NOT IN следующим образом:

```sql
SELECT *
FROM products
WHERE product_id NOT IN (
  SELECT product_id
  FROM orders
);
```

Этот запрос вернет все строки из таблицы "products", кроме тех, у которых значение поля product_id есть в подзапросе, который возвращает все значения поля product_id из таблицы "orders". Таким образом, результатом запроса будут все продукты, которые не были заказаны.

## UNION

UNION - это оператор SQL, который объединяет результаты двух или более запросов в один результат. Оператор UNION выполняет операцию объединения на двух наборах результатов запроса и возвращает один набор данных, который содержит все строки из обоих наборов, без дубликатов.

Синтаксис оператора UNION:

```sql
SELECT column1, column2, ... FROM table1
UNION
SELECT column1, column2, ... FROM table2
```

Здесь мы выбираем столбцы "column1", "column2" и т.д. из таблицы "table1", а затем объединяем результат с выборкой столбцов "column1", "column2" и т.д. из таблицы "table2". Результат будет содержать все уникальные строки из обеих таблиц.

Важно отметить, что оператор UNION требует, чтобы оба запроса имели одинаковое количество столбцов, а также соответствующие типы данных в каждом столбце. Если типы данных не совпадают, можно использовать операторы CAST или CONVERT для приведения данных к одному типу.


