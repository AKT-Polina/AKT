#mysql
Табличные SQL-запросы - это запросы, которые возвращают результаты в виде таблицы. Это означает, что запрос будет запрашивать данные из одной или нескольких таблиц и выводить результаты в виде таблицы, которая может быть дополнительно обработана, отфильтрована или сортирована.

Примером табличного запроса может быть запрос на выборку всех строк из таблицы "employees", содержащей информацию о сотрудниках, работающих в компании. Запрос может выглядеть следующим образом:


```sql
SELECT *
FROM employees;
```

Этот запрос выбирает все столбцы из таблицы "employees" и выводит их в виде таблицы. Результатом будет таблица, содержащая все строки из таблицы "employees".

Также можно использовать фильтры для получения только определенных строк или столбцов из таблицы. Например, следующий запрос вернет только тех сотрудников, чья должность - менеджер:

```sql
SELECT *
FROM employees
WHERE position = 'Manager';
```

## LIMIT

Команда LIMIT в MySQL используется для ограничения количества строк, которые будут выбраны или изменены в запросе. Она позволяет указать, сколько строк нужно выбрать или изменить, начиная с указанного смещения.

Синтаксис команды LIMIT выглядит следующим образом:

```sql
SELECT * FROM table_name LIMIT offset, count;
```

где:

-   `table_name` - имя таблицы, из которой необходимо выбрать данные.
-   `offset` - количество строк, которые нужно пропустить перед началом выборки. Этот параметр необязательный и по умолчанию равен 0.
-   `count` - количество строк, которые нужно выбрать. Этот параметр также необязательный и по умолчанию равен 1, если не указан явно.

Например, если нужно выбрать первые 5 строк из таблицы `users`, можно использовать следующий запрос:

```sql
SELECT * FROM users LIMIT 5;
```

Если же нужно выбрать следующие 5 строк (начиная со 6-й строки), можно использовать такой запрос:

```sql
SELECT * FROM users LIMIT 5, 5;
```

## LIKE

Команда LIKE в MySQL используется для поиска строк, которые содержат определенный шаблон символов. Она позволяет выполнить поиск строк, которые соответствуют определенному условию, заданному в виде строки с использованием специальных символов.

Синтаксис команды LIKE выглядит следующим образом:

```sql
SELECT column1, column2, ... FROM table_name WHERE column1 LIKE pattern;
```

где:

-   `column1`, `column2`, ... - имена столбцов, в которых нужно искать совпадения.
-   `pattern` - шаблон символов, по которому нужно выполнить поиск. Шаблон может содержать специальные символы, которые позволяют задать различные условия поиска.

Специальные символы, которые можно использовать в шаблоне при поиске с помощью команды LIKE:


-   `%` - означает любое количество символов (в том числе и 0) в данной позиции. Например, выражение `'%test%'` будет искать все строки, которые содержат подстроку "test".
-   `_` - означает любой один символ в данной позиции. Например, выражение `'t_st'` будет искать все строки, которые содержат подстроку "test", "tost" и т.д.
-   `[]` - означает любой символ из указанного диапазона. Например, выражение `'[a-z]%'` будет искать все строки, которые начинаются с буквы от "a" до "z".
-   `[^]` - означает любой символ, кроме указанных в скобках. Например, выражение `'[^t]est'` будет искать все строки, которые начинаются не с буквы "t", а затем следует "est".

Например, чтобы найти все строки в таблице `users`, где имя пользователя начинается на букву "J", можно использовать следующий запрос:

```sql
SELECT * FROM users WHERE name LIKE 'J%';
```

Или чтобы найти все строки, где имя пользователя содержит подстроку "doe", можно использовать следующий запрос:

```sql
SELECT * FROM users WHERE name LIKE '%doe%';
```

Команда LIKE может быть очень полезной, когда необходимо выполнить поиск строк в базе данных по заданному шаблону, но следует учитывать, что использование команды LIKE может привести к увеличению времени выполнения запроса при больших объемах данных.

## MIN

Функция MIN возвращает минимальное значение в столбце. Например, чтобы найти минимальную зарплату среди всех сотрудников, можно использовать следующий запрос:

```sql
SELECT MIN(salary) FROM employees;
```

## MAX

Функция MAX возвращает максимальное значение в столбце. Например, чтобы найти максимальную зарплату среди всех сотрудников, можно использовать следующий запрос:

```sql
SELECT MAX(salary) FROM employees;
```

## AVG

Функция AVG возвращает среднее значение в столбце. Например, чтобы найти среднюю зарплату всех сотрудников, можно использовать следующий запрос:

```sql
SELECT AVG(salary) FROM employees;
```

## COUNT

COUNT - это агрегатная функция, которая используется в SQL для подсчета количества строк в столбце или таблице. Она может использоваться для подсчета количества записей в таблице, количества записей, удовлетворяющих определенному условию или количества уникальных значений в столбце.

Простейшее использование функции COUNT - это подсчет общего количества строк в таблице. Для этого можно использовать следующий запрос:

```sql
SELECT COUNT(*) FROM table_name;
```

В этом примере мы используем функцию COUNT с оператором * для подсчета количества всех строк в таблице table_name.

Кроме того, можно использовать функцию COUNT для подсчета количества строк, удовлетворяющих определенному условию. Например, чтобы подсчитать количество сотрудников в компании с зарплатой больше 50000 долларов в год, можно использовать следующий запрос:

```sql
SELECT COUNT(*) FROM employees WHERE salary > 50000;
```

В этом примере мы использовали функцию COUNT с условием WHERE для подсчета количества строк, удовлетворяющих условию "salary > 50000".


Кроме того, функция COUNT может использоваться для подсчета количества уникальных значений в столбце. Например, чтобы подсчитать количество разных должностей в компании, можно использовать следующий запрос:

```sql
SELECT COUNT(DISTINCT title) FROM employees;
```

## HAVING

HAVING - это ключевое слово SQL, которое используется совместно с оператором GROUP BY для фильтрации результатов группировки.

Оператор GROUP BY позволяет сгруппировать строки таблицы по значениям определенного столбца или набора столбцов. Результатом является набор строк, где каждая строка представляет группу и содержит результаты агрегатных функций, примененных к данным в этой группе.

Ключевое слово HAVING позволяет добавить условие фильтрации для результатов группировки. Оно работает подобно ключевому слову WHERE, но в отличие от WHERE, HAVING фильтрует группы, а не строки таблицы.

Для понимания, как работает HAVING, рассмотрим следующий пример. Предположим, у нас есть таблица employees с информацией о сотрудниках, включающей столбцы "department" и "salary". Мы хотим вывести список отделов, где средняя зарплата больше 50000 долларов.

Мы можем использовать следующий запрос:

```sql
SELECT department, AVG(salary) as avg_salary
FROM employees
GROUP BY department
HAVING avg_salary > 50000;
```

В этом примере мы сначала группируем строки по отделам и вычисляем среднюю зарплату для каждого отдела. Затем мы используем ключевое слово HAVING, чтобы оставить только те группы, где средняя зарплата больше 50000 долларов.

В результате мы получим список отделов с средней зарплатой, удовлетворяющей нашему условию.


